//
// ------------------- ezHUD --------------------
// Head Up Display configuration script
// Made by johnnycz 2006
//
// Requirements:
// ezQuake 1517 or newer 
// [ http://ezquake.sourceforge.net/ ]
//
// Usage:
// 1) place the script into <quake>/ezquake/cfg
// 2) run ezQuake, go into the console and type: 
//    /exec cfg/ezhud
// 3) follow instructions on the screen
//
// ----------------------------------------------
//

// init
unset_re ezhud_.
unalias_re .ezhud_.
hud_planmode 1
hud_recalculate

// binds
bind [ ezhud_sel_prev
bind ] ezhud_sel_next
bind pgdn ezhud_sel_nextmore
bind pgup ezhud_sel_prevmore
bind end ezhud_sel_last
bind home ezhud_sel_first
bind del ezhud_hide
bind ins ezhud_show

bind uparrow ezhud_move_up
bind downarrow ezhud_movedown
bind leftarrow ezhud_moveleft
bind rightarrow ezhud_moveright
bind space +ezhud_mark
bind enter ezhud_toggle
bind h ezhud_help

bind kp_1 "ezhud_align left bottom"
bind kp_2 "ezhud_align center bottom"
bind kp_3 "ezhud_align right bottom"
bind kp_4 "ezhud_align left center"
bind kp_5 "ezhud_align center center"
bind kp_6 "ezhud_align right center"
bind kp_7 "ezhud_align left top"
bind kp_8 "ezhud_align center top"
bind kp_9 "ezhud_align right top"

bind w "ezhud_align_rel_y before"
bind s "ezhud_align_rel_y after"
bind a "ezhud_align_rel_x before"
bind d "ezhud_align_rel_x after"

bind q "ezhud_showmore"

bind shift +ezhud_bigchange
bind kp_plus ezhud_scaleup
bind kp_minus ezhud_scaledown
bind kp_slash ezhud_frameup
bind kp_star ezhud_framedown
bind kp_ins ezhud_place_sel
bind kp_enter ezhud_place_conf

bind 1 "ezhud_selplace 1"
bind 2 "ezhud_selplace 2"
bind 3 "ezhud_selplace 3"
bind 4 "ezhud_selplace 4"
bind 5 "ezhud_selplace 5"
bind 6 "ezhud_selplace 6"
bind 7 "ezhud_selplace 7"
bind 8 "ezhud_selplace 8"
bind 9 "ezhud_selplace 9"

bind u ezhud_finish

// instructions
echo "ezHud config loaded"
echo "press $[h$] for help"
alias ezhud_help "echo $[[$], $[]$], $[page up$], $[page down$], $[home$], $[end$] to select elements; echo $[Enter$], $[Del$] to show/hide them; echo $[Space$] to mark them; echo arrows to move, keypad and w,a,s,d keys to align; echo $[shift$] to move in larger steps; echo keypad plus/minus to scale up/down, slash/star to adjust frame; echo $[u$] when you are done"

// code, etc...
set ezhud_elem_1 ammo
set ezhud_elem_2 ammo1
set ezhud_elem_3 ammo2
set ezhud_elem_4 ammo3
set ezhud_elem_5 ammo4
set ezhud_elem_6 armor
set ezhud_elem_7 armordamage
set ezhud_elem_8 clock
set ezhud_elem_9 cross
set ezhud_elem_10 democlock
set ezhud_elem_11 face
set ezhud_elem_12 fps
set ezhud_elem_13 frags
set ezhud_elem_14 gameclock
set ezhud_elem_15 group1
set ezhud_elem_16 group2
set ezhud_elem_17 group3
set ezhud_elem_18 group4
set ezhud_elem_19 group5
set ezhud_elem_20 group6
set ezhud_elem_21 group7
set ezhud_elem_22 group8
set ezhud_elem_23 group9
set ezhud_elem_24 gun
set ezhud_elem_25 gun2
set ezhud_elem_26 gun3
set ezhud_elem_27 gun4
set ezhud_elem_28 gun5
set ezhud_elem_29 gun6
set ezhud_elem_30 gun7
set ezhud_elem_31 gun8
set ezhud_elem_32 health
set ezhud_elem_33 healthdamage
set ezhud_elem_34 iammo
set ezhud_elem_35 iammo1
set ezhud_elem_36 iammo2
set ezhud_elem_37 iammo3
set ezhud_elem_38 iammo4
set ezhud_elem_39 iarmor
set ezhud_elem_40 key1
set ezhud_elem_41 key2
set ezhud_elem_42 mp3_time
set ezhud_elem_43 mp3_title
set ezhud_elem_44 net
set ezhud_elem_45 netgraph
set ezhud_elem_46 pent
set ezhud_elem_47 ping
set ezhud_elem_48 quad
set ezhud_elem_49 radar
set ezhud_elem_50 ring
set ezhud_elem_51 sigil1
set ezhud_elem_52 sigil2
set ezhud_elem_53 sigil3
set ezhud_elem_54 sigil4
set ezhud_elem_55 speed
set ezhud_elem_56 suit
set ezhud_elem_57 teamfrags
set ezhud_elem_58 teamholdbar
set ezhud_elem_59 tracking
set ezhud_max_elems 59
set ezhud_curnum 1
set ezhud_curelem face
alias ezhud_curcheck "if $ezhud_curnum > $ezhud_max_elems set ezhud_curnum 1 else if $ezhud_curnum < 1 set ezhud_curnum $ezhud_max_elems"
alias ezhud_setcur "ezhud_curcheck; set_ex ezhud_curelem $ezhud_elem_$ezhud_curnum"
alias ezhud_echocur "echo ($ezhud_curnum/$ezhud_max_elems) $ezhud_curelem selected"
ezhud_setcur

set ezhud_place_1 screen
set ezhud_place_2 view
set ezhud_place_3 top
set ezhud_place_4 sbar
set ezhud_place_5 ibar
set ezhud_place_6 hbar
set ezhud_place_7 sfree
set ezhud_place_8 ifree
set ezhud_place_9 hfree

alias ezhud_sel_next "inc ezhud_curnum 1; ezhud_setcur; ezhud_echocur"
alias ezhud_sel_prev "inc ezhud_curnum -1; ezhud_setcur; ezhud_echocur"
alias ezhud_sel_nextmore "inc ezhud_curnum $ezhud_bigchange; ezhud_setcur; ezhud_echocur"
alias ezhud_sel_prevmore "inc ezhud_curnum -$ezhud_bigchange; ezhud_setcur; ezhud_echocur"
alias ezhud_sel_first "set ezhud_curnum 1; ezhud_setcur; ezhud_echocur"
alias ezhud_sel_last "set ezhud_curnum $ezhud_max_elems; ezhud_setcur; ezhud_echocur"

alias ezhud_refresh "hud_recalculate"

set ezhud_smallchange 1
set ezhud_bigchange 8
alias +ezhud_bigchange "set ezhud_curchange $ezhud_bigchange"
alias -ezhud_bigchange "set ezhud_curchange $ezhud_smallchange"
-ezhud_bigchange

alias ezhud_move_up "inc hud_$ezhud_curelem_pos_y -$ezhud_curchange; ezhud_refresh"
alias ezhud_movedown "inc hud_$ezhud_curelem_pos_y $ezhud_curchange; ezhud_refresh"
alias ezhud_moveleft "inc hud_$ezhud_curelem_pos_x -$ezhud_curchange; ezhud_refresh"
alias ezhud_moveright "inc hud_$ezhud_curelem_pos_x $ezhud_curchange; ezhud_refresh"

alias +ezhud_mark "set_ex ezhud_tempframe $hud_$ezhud_curelem_frame; set_ex ezhud_tempshow $hud_$ezhud_curelem_show;set hud_$ezhud_curelem_frame 2"
alias -ezhud_mark "set hud_$ezhud_curelem_frame $ezhud_tempframe; ezhud_refresh"

alias ezhud_toggle "toggle hud_$ezhud_curelem_show"
alias ezhud_hide "hide $ezhud_curelem"
alias ezhud_show "show $ezhud_curelem"

alias ezhud_align "align $ezhud_curelem %1 %2; ezhud_refresh"

alias ezhud_align_rel_y "set hud_$ezhud_curelem_align_y %1; ezhud_refresh"
alias ezhud_align_rel_x "set hud_$ezhud_curelem_align_x %1; ezhud_refresh"

alias ezhud_scalecheck "if $hud_$ezhud_curelem_scale < 0 set $hud_$ezhud_curelem_scale 1"
alias ezhud_framecheck "set_ex ezhud_curframe $hud_$ezhud_curelem_frame; if $ezhud_curframe < 0 set hud_$ezhud_curelem_frame 0; if $ezhud_curframe > 1 ezhud_framecheck2"
alias ezhud_framecheck2 "echo b; if $ezhud_curframe < 1.5 set hud_$ezhud_curelem_frame 2 else set hud_$ezhud_curelem_frame 1"

alias ezhud_scaleup "inc hud_$ezhud_curelem_scale 0.1; ezhud_scalecheck"
alias ezhud_scaledown "inc hud_$ezhud_curelem_scale -0.1; ezhud_scalecheck"
alias ezhud_frameup "inc hud_$ezhud_curelem_frame 0.1; ezhud_framecheck"
alias ezhud_framedown "inc hud_$ezhud_curelem_frame -0.1; ezhud_framecheck"

alias ezhud_selplace "set ezhud_curelem $ezhud_place_%1; echo $ezhud_curelem selected as a target for alignment"

alias ezhud_place_sel "echo select which element '$ezhud_curelem' frags should be aligned to with 1-9 or [ & ] keys and press keypad Enter to confirm; set ezhud_align_what $ezhud_curelem"
alias ezhud_place_conf "place $ezhud_align_what $ezhud_curelem; set ezhud_curelem $ezhud_align_what"

alias ezhud_showmore "$hud_curelem"

alias ezhud_finish "unset_re ezhud_.; unalias_re ezhud_.; hud_planmode 0; hud_recalculate; echo use 'hud_export' command to save your HUD config; echo don't forget to load your standard key bindings back" 
